# MLB 팀 승률 예측

메이저리그(MLB) 팀의 주요 타격 및 방어 지표를 활용하여 팀 승률을 예측하는 프로젝트. 선형 회귀 분석(Linear Regression)을 이용해 각 변수와 팀 승률 간의 관계를 탐구함.

---
## Project Period
2023.03.02 ~ 2023.03.29

---
## Project Structure
- `src/`: Python 코드 파일
  - `data_preprocessing.py`: 데이터 로드 및 전처리
  - `eda.py`: 데이터 탐색 및 시각화
  - `modeling.py`: 모델 학습 및 예측
  - `evaluation.py`: 모델 평가
  - `main.py`: 전체 파이프라인 실행
- `notebooks/`: Jupyter Notebook
- `data/`: 데이터 파일 저장
---


## 1. 연구 배경
### 야구와 승률 예측을 주제로 선택한 이유
- **스포츠 데이터 분석의 성장**: 데이터 분석은 스포츠 분야에서 전략 및 성과 개선을 위해 널리 활용되고 있음.
- **실용적 가치**: 팀 성과 예측은 실질적으로 전략 수립과 의사결정에 중요한 가치를 지님.
- **개인적 흥미**: 야구 팬으로서 데이터 분석 기술을 활용하여 야구와 관련된 흥미로운 주제를 연구하고자 함.

### 야구 경기 방식 간단 소개
- **야구**: 두 팀이 9이닝 동안 공격과 수비를 번갈아 진행하며, 더 많은 점수를 얻은 팀이 승리.
  - **공격**: 안타, 홈런, 볼넷 등을 통해 점수를 획득.
  - **수비**: 투수를 중심으로 상대 팀의 득점을 방어.

### 선행연구와 한계점
- 기존 연구:
  - 관중 수, 평균 키, 선수 나이 등 경기 외적 요인을 많이 포함하여 모델이 복잡해짐.
  - 야구 경기의 핵심 요소인 타격 및 투구 능력의 영향을 충분히 반영하지 못함.
- 본 연구:
  - 타격 지표(OPS, HR 등)와 방어 지표(ERA 등)를 중심으로 승률 예측 모델을 구성.

---

## 2. 문제 정의
- **목표**: MLB 팀의 승률(W-L%)을 주요 타격 및 방어 지표를 활용하여 예측.
- **수식**:  
  \( y = f(x) \)
  - \( y \): 팀 승률 (W-L%)
  - \( x \): OPS, HR, ERA, SO, BB 등 승률에 영향을 주는 주요 요소.
  - \( f \): 선형 회귀 모델.

---

## 3. 데이터 수집
- **출처**: Baseball Reference
- **기간**: 2004년부터 2023년까지 (20년간의 리그별 팀 성적 데이터)
- **주요 데이터**:
  - 경기당 득점, 타율, 출루율, OPS, ERA 등.
- **결측치 확인**: 데이터 결측치 없음.

---

## 4. 데이터 탐색 및 전처리
- **타겟 변수**: 팀 승률(W-L%).
- **설명 변수**:
  - 타격 지표: OPS, HR, BB, SO.
  - 방어 지표: ERA, HR9, SO9, SO/W.
- **상관관계 분석**:
  - 양의 상관관계: OPS (+0.55).
  - 음의 상관관계: ERA (-0.70).
- **스케일링**: StandardScaler를 사용하여 데이터 표준화.
- **데이터 분할**: 2004 ~ 2019년은 학습 데이터, 2020 ~ 2023년은 테스트 데이터로 설정 (8:2 비율).
- **다중공선성 확인**: 모든 변수의 VIF < 10.

---

## 5. 모델링
- **기법**: 선형 회귀(Linear Regression).
- **이유**:
  - 연속형 변수(팀 승률) 예측에 적합.
  - 각 독립변수가 종속변수에 미치는 영향을 해석 가능.

---

## 6. 결과
![image](https://github.com/user-attachments/assets/a7094a49-1bce-4d06-b00e-7619bb24dd45)

![image](https://github.com/user-attachments/assets/489feb04-3616-4687-9273-88d326aae791)

### 회귀 계수
- 가장 영향력이 큰 변수:
  - **ERA**: 투수의 평균자책점이 낮을수록 팀 승률 상승.
  - **OPS**: 출루율과 장타율이 높은 팀일수록 승률 상승.

### 모델 성능
![image](https://github.com/user-attachments/assets/34e2ecb2-7148-4b1a-83e5-2379adc28c44)

- **R-squared**:
  - 학습 데이터: 0.854
  - 테스트 데이터: 0.795
- **RMSE**:
  - 학습 데이터: 0.027
  - 테스트 데이터: 0.039

### 통계적 유의성
- 통계적으로 유의한 변수 (\( p < 0.05 \)): OPS, SO, ERA.

---

## 7. 결론 및 기대효과
### 연구 요약
- 본 프로젝트는 MLB 팀 승률을 선형 회귀를 통해 예측하였으며, 주요 타격 및 방어 지표가 승률에 미치는 영향을 확인.

### 기대효과
- 팀별 맞춤 전략 수립 가능성 제시.

### 한계점
- 내셔널 리그와 아메리칸 리그 간 특성을 반영하지 못한 점은 추가 연구가 필요함.
